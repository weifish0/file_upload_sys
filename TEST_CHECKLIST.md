# 系統功能驗證清單

## 啟動檢查

- [x] 虛擬環境建立成功
- [x] 所有依賴套件安裝完成
- [x] 資料庫初始化成功
- [x] 預設管理員帳號建立完成
- [x] 應用程式成功啟動在 http://localhost:5002

## 家長表單功能測試

### 基本功能

- [ ] 訪問首頁 http://localhost:5002
- [ ] 頁面正常顯示，樣式美觀
- [ ] 表單包含所有必要欄位：
  - [ ] 孩子姓名（必填）
  - [ ] 家長聯絡資訊（選填）
  - [ ] 檔案上傳欄位

### 檔案上傳測試

#### 測試案例 1：正常上傳
- [ ] 填寫孩子姓名："測試學生"
- [ ] 填寫家長資訊："0912-345-678"
- [ ] 上傳 PDF 檔案（< 10MB）
- [ ] 點擊「送出表單」
- [ ] 顯示成功訊息
- [ ] 頁面可以再次提交

#### 測試案例 2：必填欄位驗證
- [ ] 不填寫孩子姓名
- [ ] 嘗試送出表單
- [ ] 顯示驗證錯誤訊息

#### 測試案例 3：不同檔案類型
測試以下檔案類型是否都能成功上傳：
- [ ] PDF (.pdf)
- [ ] Word (.doc, .docx)
- [ ] Excel (.xls, .xlsx)
- [ ] PowerPoint (.ppt, .pptx)
- [ ] 文字檔 (.txt)
- [ ] 圖片 (.jpg, .png, .gif)
- [ ] 壓縮檔 (.zip, .rar)

#### 測試案例 4：不支援的檔案類型
- [ ] 嘗試上傳 .exe 或 .sh 檔案
- [ ] 系統應該拒絕並顯示錯誤訊息

#### 測試案例 5：檔案大小限制
- [ ] 嘗試上傳 > 10MB 的檔案
- [ ] 系統應該拒絕並顯示錯誤訊息

### 使用者介面測試

- [ ] 響應式設計在手機上正常顯示
- [ ] 響應式設計在平板上正常顯示
- [ ] 響應式設計在桌面上正常顯示
- [ ] 檔案選擇後顯示檔案名稱和大小
- [ ] 提交時顯示載入動畫
- [ ] 成功/錯誤訊息正確顯示

## 管理員登入功能測試

### 測試案例 1：成功登入
- [ ] 訪問 http://localhost:5002/admin/login
- [ ] 輸入使用者名稱：admin
- [ ] 輸入密碼：admin123
- [ ] 點擊「登入」
- [ ] 成功重定向到管理後台
- [ ] 顯示歡迎訊息

### 測試案例 2：登入失敗
- [ ] 輸入錯誤的使用者名稱或密碼
- [ ] 顯示錯誤訊息
- [ ] 仍然停留在登入頁面

### 測試案例 3：未登入訪問保護頁面
- [ ] 在未登入狀態下訪問 http://localhost:5002/admin/dashboard
- [ ] 應該重定向到登入頁面
- [ ] 顯示「請先登入」訊息

## 管理後台功能測試

### 統計資訊顯示
- [ ] 顯示總提交數
- [ ] 顯示總檔案大小
- [ ] 顯示本頁顯示數量
- [ ] 顯示總頁數

### 提交記錄列表
- [ ] 正確顯示所有提交記錄
- [ ] 顯示以下欄位：
  - [ ] 編號
  - [ ] 孩子姓名
  - [ ] 家長資訊
  - [ ] 檔案名稱
  - [ ] 檔案大小（格式化顯示）
  - [ ] 上傳時間
  - [ ] IP位址
  - [ ] 操作按鈕（下載、刪除）

### 搜尋功能
- [ ] 輸入孩子姓名進行搜尋
- [ ] 搜尋結果正確顯示
- [ ] 輸入家長資訊進行搜尋
- [ ] 搜尋結果正確顯示
- [ ] 輸入檔案名稱進行搜尋
- [ ] 搜尋結果正確顯示
- [ ] 清空搜尋後顯示所有記錄

### 分頁功能
（需要至少 21 筆記錄才能測試）
- [ ] 首頁顯示前 20 筆記錄
- [ ] 可以切換到下一頁
- [ ] 可以切換到上一頁
- [ ] 頁碼正確顯示
- [ ] 當前頁碼高亮顯示

### 檔案下載功能
- [ ] 點擊「下載」按鈕
- [ ] 檔案正確下載
- [ ] 檔案名稱正確
- [ ] 檔案內容完整

### 記錄刪除功能
- [ ] 點擊「刪除」按鈕
- [ ] 顯示確認對話框
- [ ] 確認後記錄被刪除
- [ ] 顯示成功訊息
- [ ] 列表自動更新
- [ ] 檔案從伺服器刪除

### CSV 匯出功能
- [ ] 點擊「匯出 CSV」按鈕
- [ ] CSV 檔案正確下載
- [ ] CSV 包含所有欄位
- [ ] CSV 包含所有記錄
- [ ] 檔案名稱包含日期

### 登出功能
- [ ] 點擊「登出」按鈕
- [ ] 成功登出
- [ ] 重定向到首頁
- [ ] 顯示登出成功訊息
- [ ] 無法再訪問管理後台（需重新登入）

## 安全性測試

### CSRF 保護
- [ ] 表單提交包含 CSRF token
- [ ] 沒有 CSRF token 的請求被拒絕

### 檔案安全
- [ ] 上傳的檔案名稱被清理（防止路徑遍歷）
- [ ] 檔案儲存在正確的目錄
- [ ] 檔案名稱包含時間戳以防衝突

### 存取控制
- [ ] 未登入無法訪問管理功能
- [ ] 直接訪問下載 URL 需要登入
- [ ] 直接訪問刪除 URL 需要登入

## 錯誤處理測試

### 404 錯誤
- [ ] 訪問不存在的頁面
- [ ] 顯示友善的 404 錯誤頁面
- [ ] 有返回首頁的連結

### 檔案不存在錯誤
- [ ] 嘗試下載已被刪除的檔案
- [ ] 顯示適當的錯誤訊息

## 效能測試

- [ ] 上傳 10MB 檔案測試速度
- [ ] 同時多人上傳（如可能）
- [ ] 大量記錄（100+）時的分頁載入速度
- [ ] 搜尋大量記錄時的響應時間

## 跨瀏覽器測試

- [ ] Chrome/Edge
- [ ] Firefox
- [ ] Safari
- [ ] 手機瀏覽器（iOS Safari）
- [ ] 手機瀏覽器（Android Chrome）

## 資料持久性測試

- [ ] 重啟應用程式後資料仍然存在
- [ ] 上傳的檔案仍然可以訪問
- [ ] 管理員登入狀態在合理時間內保持

## 備份與恢復測試

- [ ] 備份 workshop.db 和 uploads 目錄
- [ ] 刪除原始檔案
- [ ] 恢復備份
- [ ] 確認所有數據和檔案完整

---

## 測試結果總結

- 測試日期：____________________
- 測試人員：____________________
- 通過項目：____ / ____
- 失敗項目：____
- 需要修復的問題：

1. _________________________________
2. _________________________________
3. _________________________________

## 建議改進

1. _________________________________
2. _________________________________
3. _________________________________

